/* Design tokens */
:root{
  --brand-50:#eef2ff;
  --brand-100:#e0e7ff;
  --brand-600:#2563eb;
  --brand-700:#1d4ed8;
  --ink-900:#0f172a;
  --ink-700:#334155;
  --ink-500:#64748b;
  --line:#e5e7eb;
  --accent-emerald-50:#ecfdf5;
  --accent-warning:#f59e0b;
  --shadow-sm:0 2px 8px rgba(2,6,23,.06);
  --shadow-md:0 8px 24px rgba(2,6,23,.08);
  --ease:cubic-bezier(.2,.8,.2,1);
  --t:160ms;
}

html,body{margin:0;padding:0}

/* Page */
.quiz-page{
  min-height:100vh;
  background:linear-gradient(180deg, var(--brand-50) 0%, #fff 50%);
  padding: clamp(16px, 4vw, 32px);
  color:var(--ink-900);
}

/* Stepper */
.stepper{
  max-width:1100px; margin:0 auto 16px;
  display:flex; align-items:center; gap:10px;
}
.step{
  display:flex; align-items:center; gap:8px;
  color:var(--ink-700);
}
.step span{
  width:28px; height:28px; border-radius:999px;
  background:#fff; border:1px solid var(--line);
  display:inline-flex; align-items:center; justify-content:center;
  font-weight:700;
}
.step.active span{ border-color:var(--brand-600); color:var(--brand-700) }
.step.done span{ background:var(--brand-600); color:#fff; border-color:var(--brand-600) }
.step small{ font-weight:600 }
.connector{
  flex:1; height:2px; background:var(--line); border-radius:2px; position:relative; overflow:hidden;
}
.connector.fill::after{
  content:""; position:absolute; inset:0; background:var(--brand-600);
  transform-origin:left; animation:fillLine .5s var(--ease) forwards;
}
@keyframes fillLine{ from{transform:scaleX(0)} to{transform:scaleX(1)} }

/* Panel wrapper */
.quiz-panel{ max-width:1100px; margin:0 auto }

/* Card */
.panel-card{
  background:#fff; border:1px solid var(--line); border-radius:16px;
  box-shadow:var(--shadow-sm);
  padding: clamp(16px, 4vw, 28px);
}
.animate-in{ animation:fadeIn .22s var(--ease) }
@keyframes fadeIn{ from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:translateY(0)} }

.panel-head{
  display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;
}
.panel-title{
  margin:0; font-weight:800; letter-spacing:-.02em;
}

/* Tiles */
.tile-grid{
  display:grid; gap:12px;
  grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));
}
.tile{
  display:flex; align-items:center; gap:10px;
  background:#fff; border:1px solid var(--line); border-radius:12px;
  padding:14px 16px;
  text-align:left; cursor:pointer;
  transition:transform .12s var(--ease), box-shadow var(--t) var(--ease), border-color var(--t) var(--ease);
}
.tile:hover{ transform:translateY(-2px); box-shadow:var(--shadow-md); border-color:var(--brand-100) }
.tile-emoji{ font-size:20px }

/* Rules */
.rules{
  margin:0 0 12px 0; padding-left:18px; color:var(--ink-700);
}

/* Question */
.question{
  font-size:1.1rem; font-weight:700; margin-bottom:10px;
}

/* Choices */
.choices{ list-style:none; margin:0 0 12px 0; padding:0; display:grid; gap:10px }
.choice{
  width:100%; text-align:left;
  background:#fff; border:1px solid var(--line); border-radius:12px;
  padding:12px 14px; color:var(--ink-900);
  transition:border-color var(--t) var(--ease), color var(--t) var(--ease), transform .08s var(--ease);
}
.choice:hover{ border-color:var(--brand-600); color:var(--brand-700) }
.choice:active{ transform:scale(.995) }
.index{ color:var(--ink-500); margin-right:6px }

/* Actions */
.actions{ display:flex; align-items:center; justify-content:flex-end; gap:10px; margin-top:8px }
.btn{
  border-radius:10px; font-weight:700;
  border:1px solid transparent;
  transition:transform .08s var(--ease), box-shadow var(--t) var(--ease), background-color var(--t) var(--ease), color var(--t) var(--ease), border-color var(--t) var(--ease);
  padding:10px 14px; cursor:pointer;
}
.btn:active{ transform:translateY(1px) scale(.995) }
.btn-primary{ background:var(--brand-600); color:#fff; border-color:var(--brand-600) }
.btn-primary:hover{ background:var(--brand-700); border-color:var(--brand-700); box-shadow:0 8px 20px rgba(37,99,235,.25) }
.btn-ghost{ background:#fff; color:var(--ink-900); border-color:var(--line) }
.btn-ghost:hover{ border-color:var(--brand-600); color:var(--brand-700); box-shadow:var(--shadow-sm) }

/* Pills */
.pill{
  align-self:flex-start;
  background:var(--brand-50);
  color:var(--brand-700);
  border:1px solid var(--brand-100);
  padding:4px 8px; border-radius:999px; font-weight:700; font-size:.8rem;
}

/* Result */
.result{ color:var(--ink-700); font-weight:600 }

/* Accessibility */
button:focus-visible, .choice:focus-visible, .tile:focus-visible{
  outline:3px solid var(--brand-600);
  outline-offset:3px;
  border-radius:10px;
}
